{
  "address": "0x957eDACC02cC5eA49584Bb06D568304fBC81d657",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "aggregatorAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "nftContractAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "tokenURI",
          "type": "string"
        }
      ],
      "name": "NftMinted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "int256",
          "name": "progress",
          "type": "int256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        }
      ],
      "name": "ProgressChecked",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "aggregator",
      "outputs": [
        {
          "internalType": "contract AggregatorV3Interface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        }
      ],
      "name": "checkAndMint",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "courseNft",
      "outputs": [
        {
          "internalType": "contract ICourseNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        }
      ],
      "name": "getCourseCID",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "cid",
          "type": "string"
        }
      ],
      "name": "setCourseCID",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x44f8c93f01234224e443d40cd1a1813be3101231f9e63a86d1b1741fb2ed1bef",
  "receipt": {
    "to": null,
    "from": "0x1CA5b0625dd63A49BFA6e72Ef73d135C3011f86A",
    "contractAddress": "0x957eDACC02cC5eA49584Bb06D568304fBC81d657",
    "transactionIndex": 56,
    "gasUsed": "1021721",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xc88c3288134ae028ebf8e14d2babb9447e22150fb8e0da29ea82c5a3a5a54a51",
    "transactionHash": "0x44f8c93f01234224e443d40cd1a1813be3101231f9e63a86d1b1741fb2ed1bef",
    "logs": [],
    "blockNumber": 7447376,
    "cumulativeGasUsed": "10892773",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x4F51626f276715b6c660C33B2552C47f1618b572",
    "0x7121f1DBB04b6C4694Dc9DFe770432847A06Bf3d"
  ],
  "numDeployments": 2,
  "solcInputHash": "a6a36df4e027f22671848349df4d086c",
  "metadata": "{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"aggregatorAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"nftContractAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"courseId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"tokenURI\",\"type\":\"string\"}],\"name\":\"NftMinted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"progress\",\"type\":\"int256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"courseId\",\"type\":\"uint256\"}],\"name\":\"ProgressChecked\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"aggregator\",\"outputs\":[{\"internalType\":\"contract AggregatorV3Interface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"courseId\",\"type\":\"uint256\"}],\"name\":\"checkAndMint\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"courseNft\",\"outputs\":[{\"internalType\":\"contract ICourseNFT\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"courseId\",\"type\":\"uint256\"}],\"name\":\"getCourseCID\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"courseId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"cid\",\"type\":\"string\"}],\"name\":\"setCourseCID\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"checkAndMint(address,uint256)\":{\"details\":\"\\u8bfb\\u53d6 aggregator \\u6700\\u65b0\\u8fdb\\u5ea6\\uff0c\\u5f53\\u8fdb\\u5ea6\\u2265100\\u65f6\\u81ea\\u52a8\\u7ed9 user \\u94f8\\u9020        \\u5bf9\\u5e94 courseId \\u7684 NFT(\\u5176 tokenURI = \\\"ipfs://<cid>\\\")  \"},\"setCourseCID(uint256,string)\":{\"details\":\"\\u8bbe\\u7f6e\\u6307\\u5b9a courseId \\u5bf9\\u5e94\\u7684 IPFS CID        \\u4f8b\\u5982: courseId=1 -> \\\"QmABC...\\\"  \"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/CourseProgress.sol\":\"CourseProgress\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"@chainlink/contracts/src/v0.8/shared/interfaces/AggregatorV3Interface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\n// solhint-disable-next-line interface-starts-with-i\\ninterface AggregatorV3Interface {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  function getRoundData(\\n    uint80 _roundId\\n  ) external view returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);\\n}\\n\",\"keccak256\":\"0x257a8d28fa83d3d942547c8e129ef465e4b5f3f31171e7be4739a4c98da6b4f0\",\"license\":\"MIT\"},\"contracts/CourseProgress.sol\":{\"content\":\"// SPDX-License-Identifier: MIT  \\npragma solidity ^0.8.20;  \\n\\nimport \\\"@chainlink/contracts/src/v0.8/shared/interfaces/AggregatorV3Interface.sol\\\";  \\n\\n/**  \\n * @dev \\u4f60\\u7684NFT\\u5408\\u7ea6\\u63a5\\u53e3\\uff0c\\u53ea\\u9700\\u5305\\u542b\\u8981\\u8c03\\u7528\\u7684\\u51fd\\u6570\\u7b7e\\u540d\\u5373\\u53ef  \\n *      \\u8fd9\\u91cc\\u5bf9\\u5e94CourseNFT\\u7684safeMint(address,string)  \\n */  \\ninterface ICourseNFT {  \\n    function safeMint(address to, string memory tokenURI_) external;  \\n}  \\n\\ncontract CourseProgress {  \\n    AggregatorV3Interface public aggregator;   // Chainlink Aggregator  \\n    ICourseNFT public courseNft;              // \\u4f60\\u7684NFT\\u5408\\u7ea6  \\n    address public owner;  \\n\\n    // \\u8bb0\\u5f55\\u6240\\u6709 courseId \\u5bf9\\u5e94\\u7684 IPFS CID  \\n    mapping(uint256 => string) private courseCIDs;  \\n\\n    event ProgressChecked(int256 progress, address indexed user, uint256 courseId);  \\n    event NftMinted(address indexed user, uint256 courseId, string tokenURI);  \\n\\n    constructor(address aggregatorAddress, address nftContractAddress) {  \\n        aggregator = AggregatorV3Interface(aggregatorAddress);  \\n        courseNft = ICourseNFT(nftContractAddress);  \\n        owner = msg.sender;  \\n    }  \\n\\n    modifier onlyOwner() {  \\n        require(msg.sender == owner, \\\"Not owner\\\");  \\n        _;  \\n    }  \\n\\n    /**  \\n     * @dev \\u8bbe\\u7f6e\\u6307\\u5b9a courseId \\u5bf9\\u5e94\\u7684 IPFS CID  \\n     *      \\u4f8b\\u5982: courseId=1 -> \\\"QmABC...\\\"  \\n     */  \\n    function setCourseCID(uint256 courseId, string calldata cid) external onlyOwner {  \\n        courseCIDs[courseId] = cid;  \\n    }  \\n    \\n    function getCourseCID(uint256 courseId) public view returns (string memory) {  \\n        return courseCIDs[courseId];  \\n    }  \\n    /**  \\n     * @dev \\u8bfb\\u53d6 aggregator \\u6700\\u65b0\\u8fdb\\u5ea6\\uff0c\\u5f53\\u8fdb\\u5ea6\\u2265100\\u65f6\\u81ea\\u52a8\\u7ed9 user \\u94f8\\u9020  \\n     *      \\u5bf9\\u5e94 courseId \\u7684 NFT(\\u5176 tokenURI = \\\"ipfs://<cid>\\\")  \\n     */  \\n    function checkAndMint(address user, uint256 courseId) external onlyOwner {  \\n        // \\u8bfb\\u53d6Aggregator\\u4e2d\\u7684\\u8fdb\\u5ea6  \\n        ( , int256 answer, , , ) = aggregator.latestRoundData();  \\n\\n        emit ProgressChecked(answer, user, courseId);  \\n\\n        // \\u68c0\\u67e5\\u8fdb\\u5ea6  \\n        if (answer >= 100) {  \\n            // \\u627e\\u5230\\u4e8b\\u5148\\u767b\\u8bb0\\u597d\\u7684CID  \\n            string memory cid = courseCIDs[courseId];  \\n            require(bytes(cid).length > 0, \\\"CID not set for this courseId\\\");  \\n\\n            // \\u62fc\\u63a5\\u6210\\u5b8c\\u6574\\u7684 ipfs://URI  \\n            string memory tokenURI_ = string(abi.encodePacked(\\\"ipfs://\\\", cid));  \\n\\n            // \\u94f8\\u9020NFT  \\n            courseNft.safeMint(user, tokenURI_);  \\n            emit NftMinted(user, courseId, tokenURI_);  \\n        }  \\n    }  \\n}\",\"keccak256\":\"0x506cd9d22d2f2ca987478580b94f89cc9623318bdf25874b18b5a83616498513\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506040516111e73803806111e78339818101604052810190610032919061015e565b816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505061019e565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061012b82610100565b9050919050565b61013b81610120565b811461014657600080fd5b50565b60008151905061015881610132565b92915050565b60008060408385031215610175576101746100fb565b5b600061018385828601610149565b925050602061019485828601610149565b9150509250929050565b61103a806101ad6000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063245a7bfc1461006757806332ec4d23146100855780637681b618146100a357806382447c30146100bf5780638da5cb5b146100db578063950e333d146100f9575b600080fd5b61006f610129565b60405161007c91906106e4565b60405180910390f35b61008d61014d565b60405161009a9190610720565b60405180910390f35b6100bd60048036038101906100b891906107e0565b610173565b005b6100d960048036038101906100d4919061087e565b61022b565b005b6100e361059a565b6040516100f091906108cd565b60405180910390f35b610113600480360381019061010e91906108e8565b6105c0565b60405161012091906109a5565b60405180910390f35b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610203576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101fa90610a13565b60405180910390fd5b8181600360008681526020019081526020016000209182610225929190610c6f565b50505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146102bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b290610a13565b60405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa158015610329573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061034d9190610dcc565b5050509150508273ffffffffffffffffffffffffffffffffffffffff167ff3422c507f361711f8d56c7f39b685a75f72b676adb853cef18127980c3cc061828460405161039b929190610e65565b60405180910390a2606481126105955760006003600084815260200190815260200160002080546103cb90610a9c565b80601f01602080910402602001604051908101604052809291908181526020018280546103f790610a9c565b80156104445780601f1061041957610100808354040283529160200191610444565b820191906000526020600020905b81548152906001019060200180831161042757829003601f168201915b50505050509050600081511161048f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048690610eda565b60405180910390fd5b6000816040516020016104a29190610f82565b6040516020818303038152906040529050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d204c45e86836040518363ffffffff1660e01b8152600401610510929190610fa4565b600060405180830381600087803b15801561052a57600080fd5b505af115801561053e573d6000803e3d6000fd5b505050508473ffffffffffffffffffffffffffffffffffffffff167f8e503b21c99b65aca8c7496e1574773871f0a73bf9262e58fb99528b46fd776a858360405161058a929190610fd4565b60405180910390a250505b505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60606003600083815260200190815260200160002080546105e090610a9c565b80601f016020809104026020016040519081016040528092919081815260200182805461060c90610a9c565b80156106595780601f1061062e57610100808354040283529160200191610659565b820191906000526020600020905b81548152906001019060200180831161063c57829003601f168201915b50505050509050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006106aa6106a56106a084610665565b610685565b610665565b9050919050565b60006106bc8261068f565b9050919050565b60006106ce826106b1565b9050919050565b6106de816106c3565b82525050565b60006020820190506106f960008301846106d5565b92915050565b600061070a826106b1565b9050919050565b61071a816106ff565b82525050565b60006020820190506107356000830184610711565b92915050565b600080fd5b600080fd5b6000819050919050565b61075881610745565b811461076357600080fd5b50565b6000813590506107758161074f565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126107a05761079f61077b565b5b8235905067ffffffffffffffff8111156107bd576107bc610780565b5b6020830191508360018202830111156107d9576107d8610785565b5b9250929050565b6000806000604084860312156107f9576107f861073b565b5b600061080786828701610766565b935050602084013567ffffffffffffffff81111561082857610827610740565b5b6108348682870161078a565b92509250509250925092565b600061084b82610665565b9050919050565b61085b81610840565b811461086657600080fd5b50565b60008135905061087881610852565b92915050565b600080604083850312156108955761089461073b565b5b60006108a385828601610869565b92505060206108b485828601610766565b9150509250929050565b6108c781610840565b82525050565b60006020820190506108e260008301846108be565b92915050565b6000602082840312156108fe576108fd61073b565b5b600061090c84828501610766565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561094f578082015181840152602081019050610934565b60008484015250505050565b6000601f19601f8301169050919050565b600061097782610915565b6109818185610920565b9350610991818560208601610931565b61099a8161095b565b840191505092915050565b600060208201905081810360008301526109bf818461096c565b905092915050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b60006109fd600983610920565b9150610a08826109c7565b602082019050919050565b60006020820190508181036000830152610a2c816109f0565b9050919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610ab457607f821691505b602082108103610ac757610ac6610a6d565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610b2f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610af2565b610b398683610af2565b95508019841693508086168417925050509392505050565b6000610b6c610b67610b6284610745565b610685565b610745565b9050919050565b6000819050919050565b610b8683610b51565b610b9a610b9282610b73565b848454610aff565b825550505050565b600090565b610baf610ba2565b610bba818484610b7d565b505050565b5b81811015610bde57610bd3600082610ba7565b600181019050610bc0565b5050565b601f821115610c2357610bf481610acd565b610bfd84610ae2565b81016020851015610c0c578190505b610c20610c1885610ae2565b830182610bbf565b50505b505050565b600082821c905092915050565b6000610c4660001984600802610c28565b1980831691505092915050565b6000610c5f8383610c35565b9150826002028217905092915050565b610c798383610a33565b67ffffffffffffffff811115610c9257610c91610a3e565b5b610c9c8254610a9c565b610ca7828285610be2565b6000601f831160018114610cd65760008415610cc4578287013590505b610cce8582610c53565b865550610d36565b601f198416610ce486610acd565b60005b82811015610d0c57848901358255600182019150602085019450602081019050610ce7565b86831015610d295784890135610d25601f891682610c35565b8355505b6001600288020188555050505b50505050505050565b600069ffffffffffffffffffff82169050919050565b610d5e81610d3f565b8114610d6957600080fd5b50565b600081519050610d7b81610d55565b92915050565b6000819050919050565b610d9481610d81565b8114610d9f57600080fd5b50565b600081519050610db181610d8b565b92915050565b600081519050610dc68161074f565b92915050565b600080600080600060a08688031215610de857610de761073b565b5b6000610df688828901610d6c565b9550506020610e0788828901610da2565b9450506040610e1888828901610db7565b9350506060610e2988828901610db7565b9250506080610e3a88828901610d6c565b9150509295509295909350565b610e5081610d81565b82525050565b610e5f81610745565b82525050565b6000604082019050610e7a6000830185610e47565b610e876020830184610e56565b9392505050565b7f434944206e6f742073657420666f72207468697320636f757273654964000000600082015250565b6000610ec4601d83610920565b9150610ecf82610e8e565b602082019050919050565b60006020820190508181036000830152610ef381610eb7565b9050919050565b600081905092915050565b7f697066733a2f2f00000000000000000000000000000000000000000000000000600082015250565b6000610f3b600783610efa565b9150610f4682610f05565b600782019050919050565b6000610f5c82610915565b610f668185610efa565b9350610f76818560208601610931565b80840191505092915050565b6000610f8d82610f2e565b9150610f998284610f51565b915081905092915050565b6000604082019050610fb960008301856108be565b8181036020830152610fcb818461096c565b90509392505050565b6000604082019050610fe96000830185610e56565b8181036020830152610ffb818461096c565b9050939250505056fea2646970667358221220a73e6f68f5d3209914e1c4d3b19d947bfa44d7638f9107be26497489bac0b48d64736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c8063245a7bfc1461006757806332ec4d23146100855780637681b618146100a357806382447c30146100bf5780638da5cb5b146100db578063950e333d146100f9575b600080fd5b61006f610129565b60405161007c91906106e4565b60405180910390f35b61008d61014d565b60405161009a9190610720565b60405180910390f35b6100bd60048036038101906100b891906107e0565b610173565b005b6100d960048036038101906100d4919061087e565b61022b565b005b6100e361059a565b6040516100f091906108cd565b60405180910390f35b610113600480360381019061010e91906108e8565b6105c0565b60405161012091906109a5565b60405180910390f35b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610203576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101fa90610a13565b60405180910390fd5b8181600360008681526020019081526020016000209182610225929190610c6f565b50505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146102bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b290610a13565b60405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa158015610329573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061034d9190610dcc565b5050509150508273ffffffffffffffffffffffffffffffffffffffff167ff3422c507f361711f8d56c7f39b685a75f72b676adb853cef18127980c3cc061828460405161039b929190610e65565b60405180910390a2606481126105955760006003600084815260200190815260200160002080546103cb90610a9c565b80601f01602080910402602001604051908101604052809291908181526020018280546103f790610a9c565b80156104445780601f1061041957610100808354040283529160200191610444565b820191906000526020600020905b81548152906001019060200180831161042757829003601f168201915b50505050509050600081511161048f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048690610eda565b60405180910390fd5b6000816040516020016104a29190610f82565b6040516020818303038152906040529050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d204c45e86836040518363ffffffff1660e01b8152600401610510929190610fa4565b600060405180830381600087803b15801561052a57600080fd5b505af115801561053e573d6000803e3d6000fd5b505050508473ffffffffffffffffffffffffffffffffffffffff167f8e503b21c99b65aca8c7496e1574773871f0a73bf9262e58fb99528b46fd776a858360405161058a929190610fd4565b60405180910390a250505b505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60606003600083815260200190815260200160002080546105e090610a9c565b80601f016020809104026020016040519081016040528092919081815260200182805461060c90610a9c565b80156106595780601f1061062e57610100808354040283529160200191610659565b820191906000526020600020905b81548152906001019060200180831161063c57829003601f168201915b50505050509050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006106aa6106a56106a084610665565b610685565b610665565b9050919050565b60006106bc8261068f565b9050919050565b60006106ce826106b1565b9050919050565b6106de816106c3565b82525050565b60006020820190506106f960008301846106d5565b92915050565b600061070a826106b1565b9050919050565b61071a816106ff565b82525050565b60006020820190506107356000830184610711565b92915050565b600080fd5b600080fd5b6000819050919050565b61075881610745565b811461076357600080fd5b50565b6000813590506107758161074f565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126107a05761079f61077b565b5b8235905067ffffffffffffffff8111156107bd576107bc610780565b5b6020830191508360018202830111156107d9576107d8610785565b5b9250929050565b6000806000604084860312156107f9576107f861073b565b5b600061080786828701610766565b935050602084013567ffffffffffffffff81111561082857610827610740565b5b6108348682870161078a565b92509250509250925092565b600061084b82610665565b9050919050565b61085b81610840565b811461086657600080fd5b50565b60008135905061087881610852565b92915050565b600080604083850312156108955761089461073b565b5b60006108a385828601610869565b92505060206108b485828601610766565b9150509250929050565b6108c781610840565b82525050565b60006020820190506108e260008301846108be565b92915050565b6000602082840312156108fe576108fd61073b565b5b600061090c84828501610766565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561094f578082015181840152602081019050610934565b60008484015250505050565b6000601f19601f8301169050919050565b600061097782610915565b6109818185610920565b9350610991818560208601610931565b61099a8161095b565b840191505092915050565b600060208201905081810360008301526109bf818461096c565b905092915050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b60006109fd600983610920565b9150610a08826109c7565b602082019050919050565b60006020820190508181036000830152610a2c816109f0565b9050919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610ab457607f821691505b602082108103610ac757610ac6610a6d565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610b2f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610af2565b610b398683610af2565b95508019841693508086168417925050509392505050565b6000610b6c610b67610b6284610745565b610685565b610745565b9050919050565b6000819050919050565b610b8683610b51565b610b9a610b9282610b73565b848454610aff565b825550505050565b600090565b610baf610ba2565b610bba818484610b7d565b505050565b5b81811015610bde57610bd3600082610ba7565b600181019050610bc0565b5050565b601f821115610c2357610bf481610acd565b610bfd84610ae2565b81016020851015610c0c578190505b610c20610c1885610ae2565b830182610bbf565b50505b505050565b600082821c905092915050565b6000610c4660001984600802610c28565b1980831691505092915050565b6000610c5f8383610c35565b9150826002028217905092915050565b610c798383610a33565b67ffffffffffffffff811115610c9257610c91610a3e565b5b610c9c8254610a9c565b610ca7828285610be2565b6000601f831160018114610cd65760008415610cc4578287013590505b610cce8582610c53565b865550610d36565b601f198416610ce486610acd565b60005b82811015610d0c57848901358255600182019150602085019450602081019050610ce7565b86831015610d295784890135610d25601f891682610c35565b8355505b6001600288020188555050505b50505050505050565b600069ffffffffffffffffffff82169050919050565b610d5e81610d3f565b8114610d6957600080fd5b50565b600081519050610d7b81610d55565b92915050565b6000819050919050565b610d9481610d81565b8114610d9f57600080fd5b50565b600081519050610db181610d8b565b92915050565b600081519050610dc68161074f565b92915050565b600080600080600060a08688031215610de857610de761073b565b5b6000610df688828901610d6c565b9550506020610e0788828901610da2565b9450506040610e1888828901610db7565b9350506060610e2988828901610db7565b9250506080610e3a88828901610d6c565b9150509295509295909350565b610e5081610d81565b82525050565b610e5f81610745565b82525050565b6000604082019050610e7a6000830185610e47565b610e876020830184610e56565b9392505050565b7f434944206e6f742073657420666f72207468697320636f757273654964000000600082015250565b6000610ec4601d83610920565b9150610ecf82610e8e565b602082019050919050565b60006020820190508181036000830152610ef381610eb7565b9050919050565b600081905092915050565b7f697066733a2f2f00000000000000000000000000000000000000000000000000600082015250565b6000610f3b600783610efa565b9150610f4682610f05565b600782019050919050565b6000610f5c82610915565b610f668185610efa565b9350610f76818560208601610931565b80840191505092915050565b6000610f8d82610f2e565b9150610f998284610f51565b915081905092915050565b6000604082019050610fb960008301856108be565b8181036020830152610fcb818461096c565b90509392505050565b6000604082019050610fe96000830185610e56565b8181036020830152610ffb818461096c565b9050939250505056fea2646970667358221220a73e6f68f5d3209914e1c4d3b19d947bfa44d7638f9107be26497489bac0b48d64736f6c634300081c0033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "checkAndMint(address,uint256)": {
        "details": "读取 aggregator 最新进度，当进度≥100时自动给 user 铸造        对应 courseId 的 NFT(其 tokenURI = \"ipfs://<cid>\")  "
      },
      "setCourseCID(uint256,string)": {
        "details": "设置指定 courseId 对应的 IPFS CID        例如: courseId=1 -> \"QmABC...\"  "
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 60,
        "contract": "contracts/CourseProgress.sol:CourseProgress",
        "label": "aggregator",
        "offset": 0,
        "slot": "0",
        "type": "t_contract(AggregatorV3Interface)45"
      },
      {
        "astId": 63,
        "contract": "contracts/CourseProgress.sol:CourseProgress",
        "label": "courseNft",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(ICourseNFT)57"
      },
      {
        "astId": 65,
        "contract": "contracts/CourseProgress.sol:CourseProgress",
        "label": "owner",
        "offset": 0,
        "slot": "2",
        "type": "t_address"
      },
      {
        "astId": 69,
        "contract": "contracts/CourseProgress.sol:CourseProgress",
        "label": "courseCIDs",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_uint256,t_string_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(AggregatorV3Interface)45": {
        "encoding": "inplace",
        "label": "contract AggregatorV3Interface",
        "numberOfBytes": "20"
      },
      "t_contract(ICourseNFT)57": {
        "encoding": "inplace",
        "label": "contract ICourseNFT",
        "numberOfBytes": "20"
      },
      "t_mapping(t_uint256,t_string_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => string)",
        "numberOfBytes": "32",
        "value": "t_string_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}